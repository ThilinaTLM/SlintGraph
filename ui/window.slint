import { MovableRectangle } from "./movable-rectangle.slint";
import { SingleSideWrapArrowEdge } from "./edge/edge.slint";

struct UiNodeData {
    id: string,
    label: string,
    x: length,
    y: length,
    width: length,
    height: length,
    background: color,
}

export component SlintDemoWindow inherits Window {
    width: 800px;
    height: 600px;

    in-out property <[UiNodeData]> nodes: [];
    callback node-data-change();

    for node[i] in nodes: MovableRectangle {
        x: node.x;
        y: node.y;
        width: node.width;
        height: node.height;
        background: node.background;

        Text {
            text: node.label;
            font-size: 30px;
        }

        on-change => {
            root.nodes[i] = {
                label: node.label,
                x: self.dimentions.x,
                y: self.dimentions.y,
                width: node.width,
                height: node.height,
                background: node.background,
            };
            node-data-change();
        }
    }

    // SingleSideWrapArrowEdge {
    //     from: box1.dimentions;
    //     to: box2.dimentions;
    //     arrow-size: 10;
    // }
}
